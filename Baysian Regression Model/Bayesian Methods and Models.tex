%% LyX 2.2.3 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[ruled]{article}
\usepackage{courier}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage[letterpaper]{geometry}
\geometry{verbose}
\usepackage{color}
\usepackage{url}
\usepackage{algorithm2e}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{titlesec}
\newcommand{\sectionbreak}{\clearpage}
\usepackage{graphicx}
\usepackage[export]{adjustbox}
\graphicspath{ {./images/} }
\usepackage{listings}
\usepackage{pdfpages}
\usepackage[unicode=true,
 bookmarks=false,
 breaklinks=false,pdfborder={0 0 1},backref=section,colorlinks=true]
 {hyperref}

\makeatletter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
\providecommand{\LyX}{\texorpdfstring%
  {L\kern-.1667em\lower.25em\hbox{Y}\kern-.125emX\@}
  {LyX}}
%% Special footnote code from the package 'stblftnt.sty'
%% Author: Robin Fairbairns -- Last revised Dec 13 1996
\let\SF@@footnote\footnote
\def\footnote{\ifx\protect\@typeset@protect
    \expandafter\SF@@footnote
  \else
    \expandafter\SF@gobble@opt
  \fi
}
\expandafter\def\csname SF@gobble@opt \endcsname{\@ifnextchar[%]
  \SF@gobble@twobracket
  \@gobble
}
\edef\SF@gobble@opt{\noexpand\protect
  \expandafter\noexpand\csname SF@gobble@opt \endcsname}
\def\SF@gobble@twobracket[#1]#2{}

\@ifundefined{date}{}{\date{}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\makeatother

\usepackage{listings}
\lstset{backgroundcolor={\color{white}},
basicstyle={\footnotesize\ttfamily},
breakatwhitespace=false,
breaklines=true,
captionpos=b,
commentstyle={\color{mygreen}},
deletekeywords={...},
escapeinside={\%*}{*)},
extendedchars=true,
frame=shadowbox,
keepspaces=true,
keywordstyle={\color{blue}},
language=Python,
morekeywords={*,...},
numbers=none,
numbersep=5pt,
numberstyle={\tiny\color{mygray}},
rulecolor={\color{black}},
showspaces=false,
showstringspaces=false,
showtabs=false,
stepnumber=1,
stringstyle={\color{mymauve}},
tabsize=2}

 
\begin{document}

\global\long\def\reals{\mathbf{R}}
 \global\long\def\integers{\mathbf{Z}}
\global\long\def\naturals{\mathbf{N}}
 \global\long\def\rationals{\mathbf{Q}}
\global\long\def\ca{\mathcal{A}}
\global\long\def\cb{\mathcal{B}}
 \global\long\def\cc{\mathcal{C}}
 \global\long\def\cd{\mathcal{D}}
\global\long\def\ce{\mathcal{E}}
\global\long\def\cf{\mathcal{F}}
\global\long\def\cg{\mathcal{G}}
\global\long\def\ch{\mathcal{H}}
\global\long\def\ci{\mathcal{I}}
\global\long\def\cj{\mathcal{J}}
\global\long\def\ck{\mathcal{K}}
\global\long\def\cl{\mathcal{L}}
\global\long\def\cm{\mathcal{M}}
\global\long\def\cn{\mathcal{N}}
\global\long\def\co{\mathcal{O}}
\global\long\def\cp{\mathcal{P}}
\global\long\def\cq{\mathcal{Q}}
\global\long\def\calr{\mathcal{R}}
\global\long\def\cs{\mathcal{S}}
\global\long\def\ct{\mathcal{T}}
\global\long\def\cu{\mathcal{U}}
\global\long\def\cv{\mathcal{V}}
\global\long\def\cw{\mathcal{W}}
\global\long\def\cx{\mathcal{X}}
\global\long\def\cy{\mathcal{Y}}
\global\long\def\cz{\mathcal{Z}}
\global\long\def\ind#1{1(#1)}
\global\long\def\pr{\mathbb{P}}

\global\long\def\ex{\mathbb{E}}
\global\long\def\var{\textrm{Var}}
\global\long\def\cov{\textrm{Cov}}
\global\long\def\sgn{\textrm{sgn}}
\global\long\def\sign{\textrm{sign}}
\global\long\def\kl{\textrm{KL}}
\global\long\def\law{\mathcal{L}}
\global\long\def\eps{\varepsilon}
\global\long\def\convd{\stackrel{d}{\to}}
\global\long\def\eqd{\stackrel{d}{=}}
\global\long\def\del{\nabla}
\global\long\def\loss{\ell}
\global\long\def\tr{\operatorname{tr}}
\global\long\def\trace{\operatorname{trace}}
\global\long\def\diag{\text{diag}}
\global\long\def\rank{\text{rank}}
\global\long\def\linspan{\text{span}}
\global\long\def\proj{\text{Proj}}
\global\long\def\argmax{\operatornamewithlimits{arg\, max}}
\global\long\def\argmin{\operatornamewithlimits{arg\, min}}
\global\long\def\bfx{\mathbf{x}}
\global\long\def\bfy{\mathbf{y}}
\global\long\def\bfl{\mathbf{\lambda}}
\global\long\def\bfm{\mathbf{\mu}}
\global\long\def\calL{\mathcal{L}}
\global\long\def\vw{\boldsymbol{w}}
\global\long\def\vx{\boldsymbol{x}}
\global\long\def\vxi{\boldsymbol{\xi}}
\global\long\def\valpha{\boldsymbol{\alpha}}
\global\long\def\vbeta{\boldsymbol{\beta}}
\global\long\def\vsigma{\boldsymbol{\sigma}}
\global\long\def\vmu{\boldsymbol{\mu}}
\global\long\def\vtheta{\boldsymbol{\theta}}
\global\long\def\vd{\boldsymbol{d}}
\global\long\def\vs{\boldsymbol{s}}
\global\long\def\vt{\boldsymbol{t}}
\global\long\def\vh{\boldsymbol{h}}
\global\long\def\ve{\boldsymbol{e}}
\global\long\def\vf{\boldsymbol{f}}
\global\long\def\vg{\boldsymbol{g}}
\global\long\def\vz{\boldsymbol{z}}
\global\long\def\vk{\boldsymbol{k}}
\global\long\def\va{\boldsymbol{a}}
\global\long\def\vb{\boldsymbol{b}}
\global\long\def\vv{\boldsymbol{v}}
\global\long\def\vy{\boldsymbol{y}}


\title{Machine Learning and Computational Statistics\\
Bayesian Method and Regression}

\maketitle
\textbf{Intro}: This document consists of concepts and exercises related to Bayesian Method and Regression. The core idea lies in the believe that distribution of parameters changes and we use Bayes' theorem to update the probability for a hypothesis (e.g., parameter distribution) as more evidence or information becomes available.\\ 

Learning objectives of Bayesian Method and Regression include: \\

\begin{enumerate}
\item Basic Bayesian setup (i.e., Posterior distribution = Prior distribution * Likelihood) 
\item The prior predictive distribution: 
\[
p(y|x) = \int p(y | x; \theta)p(\theta)d\theta
\]

\item The posterior predictive distribution: 
\[
p(y|x,D) = \int p(y | x; \theta)p(\theta | D)d\theta
\]

\item The difference between the posterior predictive distribution function (Bayesian approach) and the MAP (Posterior Mean Estimate) (Frequentist approach)

	\begin{enumerate}
		\item Posterior predictive distribution does not depend on the unknown parameter because it has been integrated out. 
		\item Maximum a posteriori probability MAP: we choose $\hat{\theta}$ and predict $p(y | x, \hat{\theta}(D)$. We then take derivative of the log-likelihood and set to 0.
		\[
		P(\theta | D) = \frac{P(D|\theta) * P(\theta)}{P(D)} \propto P(D|\theta) * P(\theta)
		\]

      \[
      \begin{split}
      \hat{\theta}_{MAP} &= \underset{\theta}{\mathrm{argmax}}P(D|\theta) * P(\theta) \\
      &= \underset{\theta}{\mathrm{argmax}} log P(D|\theta) * P(\theta) \\
      &= \underset{\theta}{\mathrm{argmax}} log \prod_{i=1}^{n} P(y_i | x_i, w) * P(\theta) \\
      &= \underset{\theta}{\mathrm{argmax}}  \sum_{i=1}^{n} log P(y_i | x_i, w) * P(\theta) \\
      \end{split}
      \]
	\end{enumerate}
	
\item Conjugate prior: 
        \begin{enumerate}
        \item Let $\pi$ be a family of prior distributions on $\Theta$ 
        \item Let $P$ be parametric family of distributions with parameter space $\Theta$. $P$ could be poisson, normal, or bernoulli 
        \item $\pi$ is conjugate to $P$ if for any prior in $\pi$, the posterior is always in $\pi$
        \end{enumerate}

\item Bayesian point estimates 
		\begin{enumerate}
		\item posterior mean $\hat{\theta} = E(\theta | D) $
		\item maximum a posteriori (MAP) estimator -- the mode of the posterior distribution
		\end{enumerate}
		
\item \includepdf[pages=96,pagecommand={},width=\textwidth, fitpaper=true]{08b-bayesian-methods.pdf}

\item Relationship between Gaussian regression and Ridge regression 
\includepdf[scale=0.5, pages=28-29,pagecommand= {}, fitpaper=true,width=\textwidth]{08a-bayesian-regression}

\item Concept check questions \href{https://davidrosenberg.github.io/mlcourse/ConceptChecks/11-Lec-Check_sol.pdf}{Bayesian Method and Regression}   


\item \href{https://davidrosenberg.github.io/mlcourse/Lectures/08b.bayesian-methods.pdf}{Bayesian Methods}   

\end{enumerate}

\section{Gaussian Regression} 
This Gaussian regression model is one example of how we can find $y$ from two approaches of 1) Frequentist and 2) Bayesian method.

\centering \includegraphics[width=\textwidth,height=0.9\textheight,keepaspectratio]{GaussianRegModel1.jpg} \\
\centering \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{GaussianRegModel2.jpg} \\
\includegraphics[max size={\textwidth}{\textheight}]{GaussianRegModel3.jpg} \\
\includegraphics[max size={\textwidth}{\textheight}]{GaussianRegModel4.jpg} \\
\includegraphics[max size={\textwidth}{\textheight}]{GaussianRegModel5.jpg} \\
\includegraphics[max size={\textwidth}{\textheight}]{GaussianRegModel6.jpg} \\


\end{document}
